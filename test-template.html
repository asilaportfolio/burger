<!DOCTYPE html>
<html>
<head>
    <title>Template Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h2>Template Test</h2>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Rasm</th>
                    <th>Kategoriya</th>
                    <th>Nomi</th>
                    <th>Narxi</th>
                    <th>Amallar</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <img src="https://via.placeholder.com/60" alt="Test Product" class="product-image" onerror="this.src='/img/placeholder.png'">
                    </td>
                    <td>burger</td>
                    <td>Test Burger</td>
                    <td>25000 so'm</td>
                    <td>
                        <div class="btn-group" role="group">
                            <button class="btn btn-sm btn-info" onclick="console.log('View product ID:', '6723abcd1234ef5678ghij90'); viewProduct('6723abcd1234ef5678ghij90')" title="Ko'rish">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-sm btn-warning" onclick="console.log('Edit product ID:', '6723abcd1234ef5678ghij90'); editProduct('6723abcd1234ef5678ghij90')" title="Tahrirlash">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="console.log('Delete product ID:', '6723abcd1234ef5678ghij90'); deleteProduct('6723abcd1234ef5678ghij90')" title="O'chirish">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // View product
        async function viewProduct(id) {
            try {
                console.log('View product function called with ID:', id); // Debug
                console.log('Type of ID:', typeof id); // Debug
                console.log('ID length:', id.length); // Debug
                
                // Check if ID is valid
                if (!id || id === ':1' || id.length < 10) {
                    console.error('Invalid product ID:', id);
                    alert('Noto\'g\'ri mahsulot identifikatori');
                    return;
                }
                
                alert('View product with ID: ' + id);
            } catch (error) {
                console.error('View product error:', error);
                alert('Xatolik yuz berdi: ' + error.message);
            }
        }

        // Edit product
        async function editProduct(id) {
            try {
                console.log('Edit product function called with ID:', id); // Debug
                console.log('Type of ID:', typeof id); // Debug
                console.log('ID length:', id.length); // Debug
                
                // Check if ID is valid
                if (!id || id === ':1' || id.length < 10) {
                    console.error('Invalid product ID:', id);
                    alert('Noto\'g\'ri mahsulot identifikatori');
                    return;
                }
                
                alert('Edit product with ID: ' + id);
            } catch (error) {
                console.error('Edit product error:', error);
                alert('Xatolik yuz berdi: ' + error.message);
            }
        }

        // Delete product
        async function deleteProduct(id) {
            console.log('Delete product function called with ID:', id); // Debug
            console.log('Type of ID:', typeof id); // Debug
            console.log('ID length:', id.length); // Debug
            
            // Check if ID is valid
            if (!id || id === ':1' || id.length < 10) {
                console.error('Invalid product ID:', id);
                alert('Noto\'g\'ri mahsulot identifikatori');
                return;
            }
            
            if (confirm('Bu mahsulotni o\'chirishni xohlaysizmi?')) {
                alert('Delete product with ID: ' + id);
            }
        }
    </script>
</body>
</html>